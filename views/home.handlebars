
<style>
#anime_title{
    position: absolute;
    bottom: 0%;
    left: 0;
    width: 100%;
    padding-left: 30px;
}

#anime_title h5{
    color: white;
    font: 12px Helvetica;
    background: rgba(0, 0, 0, 0.7);
    line-height: 14px;
    padding: 5px;
}

#anime_tags{
    position: relative;
    font-size: 8px;
    text-align: left;
    padding: 2px;
    margin: 0px;
}

#card_contents{
    margin: -20px -20px;
    line-height: 10px;
    justify-content:flex-start;
}

.card-title{
    margin-top: 5px;
    margin-bottom: -2px;
    font-size: 12px;
}

.mymodal{
    display: none;
    width: 100%;
    height: 100%;
    z-index: 1;
    background-color: rgba(0, 0, 0, 0.5);
    justify-content: center;
    align-items: center;
    position: fixed;
    left: 0px;
    top: 0px;
}

.mymodal > .modalcontent{
    position: absolute;
    left: 50%;
    bottom: 50%;
    transform: translate(-50%, 50%);
    vertical-align: middle;
    background-color: white;
    width: 70%;
    height: 70%;
    border-radius: 20px;
    padding-left: 20px;
    padding-top: 2px;

}
.card{
    height: 215px;
    width: 150px;
}



</style>
<div class="mymodal">
    <div class="modalcontent"></div>
</div>

<h1>Currently Airing:<h1>
<div class="row">
{{#each anime}}
<div class="col-sm-2">
    <div class="card" data-id="{{this.id}}", data-content="{{this}}">
        <img class="card-img-top img-fluid" data-id="{{this.name}}"
        src="{{this.image_url_lge}}" alt="Anime poster">
        <div id="anime_title"><h5 class="text-justify">{{this.title_english}}</h5></div>
        <!-- <h4 class="card-title">Tags:</h4>
        <div class="card-body" id="card_contents">
            {{#each this.tags}}
            <button class="btn btn-outline-primary" id="anime_tags">{{this.name}}</button>
            {{/each}}
        </div> -->
    </div>
</div>
{{/each}}

</div>

<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script>
$('body').on('click', '.card', function(e) {
    let url = "/" + $(this).data('id')
    console.log("Going to /modal" + url)
    $.ajax({
      url: "/modal"+url,
      type: 'GET'
    }).done((data) => {
        $('.mymodal').css({"display":"block"})
        $('.modalcontent').html(data)
    }).fail(() => {
        console.log("Failed")
    });
})

$('body').on('click', '.mymodal', function(e) {
    $('.mymodal').css({"display":"none"})
})
</script>
