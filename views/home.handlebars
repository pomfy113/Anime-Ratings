
<style>
#anime_title{
    position: absolute;
    bottom: 50px;
    left: 0;
    width: 100%;
    padding-left: 25px;
}

#anime_title p{
    color: white;
    font: 12px Helvetica;
    background: rgba(0, 0, 0, 0.7);
    line-height: 10px;
    padding: 5px;
}

#anime_tags{
    position: relative;
    font-size: 8px;
    text-align: left;
    padding: 2px;
    margin: 0px;
}

#card_contents{
    margin: -20px -20px;
    line-height: 10px;
    justify-content:flex-start;
}

.card-title{
    margin-top: 5px;
    margin-bottom: -2px;
    font-size: 12px;
}

.mymodal{
    display: none;
    width: 100%;
    height: 100%;
    z-index: 1;
    background-color: rgba(0, 0, 0, 0.5);
    justify-content: center;
    align-items: center;
    position: fixed;
    left: 0px;
    top: 0px;
}

.mymodal > .modalcontent{
    position: absolute;
    left: 50%;
    bottom: 50%;
    transform: translate(-50%);
    vertical-align: middle;
    background-color: white;
    width: 400px;
    height: 400px;
    border-radius: 20px;
    padding-left: 20px;
    padding-top: 2px;
}


</style>
<div class="mymodal">
    <div class="modalcontent"></div>
</div>

<h1>Currently Airing:<h1>
<div class="row">
{{#each anime}}
<div class="col-sm-2">
    <div class="card" data-id="{{this.id}}", data-content="{{this}}">
        <img class="card-img-top" src="{{this.image_url_lge}}" alt="Anime poster">
        <h5 id="anime_title" class="text-justify"><p>{{this.title_english}}</p></h5>
        <h4 class="card-title">Tags:</h4>
        <div class="card-body" id="card_contents">
            {{#each this.tags}}
            <button class="btn btn-outline-primary" id="anime_tags">{{this.name}}</button>
            {{/each}}
        </div>
    </div>
</div>
{{/each}}

</div>

<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script>
$('body').on('click', '.card', function(e) {
    let url = "/" + $(this).data('id')

    $.ajax({
      url: url,
      type: 'GET'
    }).done((data) => {
        $('.mymodal').css({"display":"block"})
        $('.modalcontent').html(data)
    }).fail(() => {
        console.log("Failed")
    });
})
</script>
